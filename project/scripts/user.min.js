"use strict";window.storage={ok:function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}},delete:function(t){window.localStorage.removeItem(t),window.localStorage.removeItem(t.concat("info"))},getSaveInfo:function(t){var e=null;return(e=window.storage.ok()?window.localStorage.getItem(t.concat("info")):e)||""},saveBrowser:function(t){var e=LZString.compressToBase64(JSON.stringify({state:window.story.state,history:window.story.history,checkpointName:window.story.checkpointName})),o=(new Date).toString();return window.localStorage.setItem(t.concat("info"),o),window.localStorage.setItem(t,e),o},loadBrowser:function(t){var e,o;return window.storage.ok()&&(e=window.localStorage.getItem(t),o=window.storage.getSaveInfo(t),window.story.restore(e)),o}},window.gm={getSaveVersion:function(){return"1.0.0"},initGame:function(t){var e=window.story.state;e.vars&&!t||(e.vars={cabinetkey:!0,time:700,day:1,qLaptop:0}),e.player&&!t||(e.player={location:"",money:5,energy:55,maxEnergy:100,skillPoints:2,skSporty:0,skCook:0,skSlacker:0,skMoneymaker:0,skTechy:0})},addTime:function(t){var e=window.story.state.vars,o=e.time%100,e=(e.time-o)/100,t=(o+=t)%60,o=e+(o-t)/60;for(window.story.state.vars.time=100*o+t%60;2400<=window.story.state.vars.time;)window.story.state.vars.time-=2400,window.story.state.vars.day+=1},getTimeString:function(){var t=window.story.state.vars,e=t.time%100,t=(t.time-e)/100;return(t<10?"0":"")+t.toString()+":"+(e<10?"0":"")+e.toString()},getDateString:function(){return window.story.state.vars.day.toString().concat(". day")},addItem:function(t,e){window.Inventory.pickup(t)},dropBanana:function(){return--window.story.state.vars.bananas,window.story.state.vars.bananas},printUnlockPerk:function(t,e){var o="",n=window.story.state;return 0==n.player[t]&&0<n.player.skillPoints?(o+="".concat("<a0 id='"+t+"' onclick='(function ( $event ) { unlockPerk($event.id); })(this);'>"+e+"</a>"),o+="".concat("    [[Info|"+t+"]]")):0<n.player[t]&&(o+="".concat(e)),o+="".concat("</br>")},toggleDialog:function(t){var e,o=t,n=document.querySelector(t),t=document.getElementById("close-dialog");document.querySelector("body");n.hasAttribute("open")?(n.removeAttribute("open"),(e=document.querySelector("#backdrop")).parentNode.removeChild(e)):((e=document.createElement("div")).id="backdrop",document.body.appendChild(e),n.setAttribute("open","open"),t.focus(),t.addEventListener("click",function(){window.gm.toggleDialog(o)}))}};