"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stats=exports.Effects=exports.Outfit=exports.Equipment=exports.Inventory=exports.Item=exports.Character=void 0,window.gm=window.gm||{},window.gm.initCombat=function(t){var e=window.story.state;e.enemy.name=t,e.vars.activeTurn=!1,e.vars.combatState="battling"},window.gm.hideCombatOption=function(){document.querySelector("#combatmenu").remove()},window.gm.printCombatOption=function(){return"<form id='combatmenu'><a0 id='RunAway' onclick='(function($event){window.gm.triggerCombat($event.id);})(this);'>Try to flee</a></br><a0 id='Attack' onclick='(function($event){window.gm.triggerCombat($event.id);})(this);'>Attack</a></br></form>"},window.gm.triggerCombat=function(t){window.gm.hideCombatOption();t=window.gm.execCombatCmd(t);window.gm.printOutput(t+window.gm.printPassageLink("Next","EncounterStartTurn")),window.gm.printCombatHud()},window.gm.calcEnemyCombat=function(){var t=_.random(1,100),e=window.story.state.enemy,n="";return 30<t?(n+=e.name+" try to attack you.</br>",n+=window.gm.execCombatCmd("Attack")):(n+=e.name+" takes a defensive stance.</br>",n+=window.gm.execCombatCmd("Guard")),n+"</br>"},window.gm.execCombatCmd=function(t){var e=window.gm.enemy,n=window.gm.player,o=window.story.state,a=_.random(1,100),i="";return o.vars.activeTurn?"Attack"===t&&(30<a?(i+=o.enemy.name+" hits you in the face.",n.health().value=n.health().value-2):i+=o.enemy.name+"s attack missed."):"Attack"===t?30<a?(i+="You hit your foe.",e.health().value=e.health().value-2):i+=o.enemy.name+" evaded your attack.":"RunAway"===t&&(40<a?(i+="You escaped the fight.",o.vars.combatState="fleeing"):i+="Your attempts to escape failed."),o.vars.activeTurn=!o.vars.activeTurn,i+"</br>"},window.gm.printCombatHud=function(){renderToSelector("#playerstats","playerstats"),renderToSelector("#enemystats","enemystats")},window.storage={ok:function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}},delete:function(t){window.localStorage.removeItem(t),window.localStorage.removeItem(t.concat("info"))},getSaveInfo:function(t){var e=null;return(e=window.storage.ok()?window.localStorage.getItem(t.concat("info")):e)||""},saveBrowser:function(t){var e=LZString.compressToBase64(JSON.stringify({state:window.story.state,history:window.story.history,checkpointName:window.story.checkpointName})),n=(new Date).toString();return window.localStorage.setItem(t.concat("info"),n),window.localStorage.setItem(t,e),n},loadBrowser:function(t){var e,n;return window.storage.ok()&&(e=window.localStorage.getItem(t),n=window.storage.getSaveInfo(t),window.story.restore(e),window.gm.player=new Character(window.story.state.player),window.gm.refreshScreen()),n}},window.gm=window.gm||{},window.gm.getSaveVersion=function(){return[0,1,0]},window.gm.initGame=function(t){$(window).on("sm.passage.showing",function(t,e){$("tw-passage").fadeIn(500),console.log("showing "+e.passage.name)}),$(document).on("sm.passage.shown",function(t,e){renderToSelector("#sidebar","sidebar")});var e=window.story.state;e.vars&&!t||(e.vars={debug:!0,version:window.gm.getSaveVersion(),log:[],passageStack:[],time:700,day:1,qLaptop:0,qDogSit:0,qExploredCity:0,qUnlockPark:0,qUnlockMall:0,qUnlockRedlight:0,qUnlockBeach:0,activeTurn:!1,combatState:""}),e.mom&&!t||(e.mom={location:"Kitchen",coffeeStore:5,foodStore:3,foodMaxStore:4}),e.enemy&&!t||(e.enemy=Character.defaultData(),window.gm.enemy=new Character(e.enemy)),e.player&&!t||(e.player=Character.defaultData(),e.player.name="You",e.player.skillPoints=2,e.player.skSporty=0,e.player.skCook=0,e.player.skSlacker=0,e.player.skMoneymaker=0,e.player.skTechy=0,window.gm.player=new Character(e.player),window.gm.player.Inv.addItem("LighterDad"),window.gm.player.Wardrobe.addItem("Jeans"),window.gm.player.Wardrobe.addItem("Leggings"),window.gm.player.Wardrobe.addItem("Tank-shirt"),window.gm.player.Wardrobe.addItem("Pullover"),window.gm.player.Outfit.addItem("Leggings"),window.gm.player.Outfit.addItem("Tank-shirt"),window.gm.player.Outfit.addItem("Pullover"),window.gm.player.Rel.addItem("mom"))},window.gm.addTime=function(t){var e=window.story.state.vars,n=e.time%100,e=(e.time-n)/100,t=(n+=t)%60,n=e+(n-t)/60;for(window.story.state.vars.time=100*n+t%60;2400<=window.story.state.vars.time;)window.story.state.vars.time-=2400,window.story.state.vars.day+=1},window.gm.getTimeString=function(){var t=window.gm.getTimeStruct();return(t.hour<10?"0":"")+t.hour.toString()+":"+(t.min<10?"0":"")+t.min.toString()+"("+t.daytime+")"},window.gm.getTimeStruct=function(){var t=window.story.state.vars,e=t.time%100;return{hour:(t.time-e)/100,min:e,daytime:500<t.time&&t.time<1e3?"morning":1e3<t.time&&t.time<1400?"noon":1400<t.time&&t.time<1800?"afternoon":1800<t.time&&t.time<2200?"evening":"night"}},window.gm.getDateString=function(){return window.story.state.vars.day.toString().concat(". day")},window.gm.sleep=function(t){var e=window.story.state.vars,n="",o=e.time%100,a=(e.time-o)/100,i=t%100,r=(t-o)/100,s=60*(r-a)+(i-o);n+="</br>Slept for "+(s=t<e.time?1440-60*(a-r)+(o-i):s)/60+" hours.</br>",window.gm.addTime(s);s=420<s?999:s/60*15;return window.gm.player.gainStat("health",s),window.gm.player.gainStat("energy",s),window.gm.pushLog(n),n},window.gm.rollExplore=function(){var t=window.story.state,e=[];"Park"==t.player.location&&(e=["Mall","Beach"]),"Mall"==t.player.location&&(e=["Park","Beach","Downtown"]),0==(e="Beach"==t.player.location?["Park","Mall"]:e).length&&(e=["Park"]);t=_.random(1,e.length)-1;window.gm.addTime(20),window.story.show(e[t])},window.gm.pushDefferedEvent=function(t){cond1},window.gm.pushPassage=function(t){window.story.state.hasOwnProperty("vars")&&(0<window.story.state.vars.passageStack.length&&window.story.state.vars.passageStack[window.story.state.vars.passageStack.length-1]===t||window.story.state.vars.passageStack.push(t))},window.gm.popPassage=function(){var t=window.story.state.vars.passageStack.pop();return t||"nothing to pop from stack"};var _origStoryShow=window.story.__proto__.show;window.story.__proto__.show=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=t;"_back"===t?o=window.gm.popPassage():(e=window.story.passage(o).tags,t=window.story.passage(o).name,0<=e.indexOf("back")?t!=window.passage.name&&window.gm.pushPassage(window.passage.name):window.story.state.hasOwnProperty("vars")&&window.story.state.vars.passageStack.splice(0,window.story.state.vars.passageStack.length)),_origStoryShow.call(window.story,o,n)},window.gm=window.gm||{},window.gm.refreshScreen=function(){window.story.show(window.passage.name)},window.gm.pushLog=function(t){var e=window.story.state.vars.log;e.unshift(t),10<e.length&&e.splice(e.length-1,1)},window.gm.getLog=function(){for(var t=window.story.state.vars.log,e="",n=0;n<t.length;n++)e+=t[n];return e},window.gm.clearLog=function(){for(var t=window.story.state.vars.log,e="",n=0;n<t.length;n++)e+=t[n];return window.story.state.vars.log=[],e},window.gm.printOutput=function(t){document.querySelector("section article div output").innerHTML=t},window.gm.printPassageLink=function(t,e){return'<a href="javascript:void(0)" data-passage="'+e+'">'+t+"</a></br>"},window.gm.printPickupAndClear=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,a="";window.story.state;if(!(0<n))return a;return a+="<a0 id='"+t+"' onclick='(function($event){window.gm.pickupAndClear(\""+t+'", "'+e+'",'+n+","+o+")})(this);'>"+(e+" ("+n+" left)")+"</a></br>"},window.gm.pickupAndClear=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;window.gm.player.Inv.addItem(t),window.gm.pushLog("added "+t+" to inventory.</br>"),o&&o.call(),window.story.show(window.passage.name)},window.gm.printItem=function(t,e){var n="",o=(window.story.state,window.gm.player.Inv),a=o.countItem(t);return n+="<a0 id='".concat(t,"' onclick='(function($event){document.querySelector(\"div#").concat(t,'").toggleAttribute("hidden");})(this);\'>').concat(t," (x").concat(a,")</a>"),0<a&&o.usable(t).OK&&(n+="<a0 id='".concat(t,"' onclick='(function($event){window.gm.player.Inv.use(\"").concat(t,"\"); window.gm.refreshScreen();}(this))'>Use</a>")),n+="</br><div hidden id='".concat(t,"'>").concat(e,"</div>"),window.story.passage(t)&&(n+="".concat("    [[Info|"+t+"]]")),n+="".concat("</br>")},window.gm.printEquipment=function(t,e){var n="";window.story.state;return n+="<a0 id='".concat(t,"' onclick='(function($event){document.querySelector(\"div#").concat(t,'").toggleAttribute("hidden");})(this);\'>').concat(t,"</a>"),window.gm.player.Outfit.countItem(t)<=0?n+="<a0 id='".concat(t,"' onclick='(function($event){window.gm.player.Outfit.addItem(\"").concat(t,"\"); window.gm.refreshScreen();}(this))'>Equip</a>"):n+="<a0 id='".concat(t,"' onclick='(function($event){window.gm.player.Outfit.removeItem(\"").concat(t,"\"); window.gm.refreshScreen();}(this))'>Unequip</a>"),n+="</br><div hidden id='".concat(t,"'>").concat(e,"</div>"),window.story.passage(t)&&(n+="".concat("    [[Info|"+t+"]]")),n+="".concat("</br>")},window.gm.printEquipmentSummary=function(){window.story.state;for(var t="",e=[],n=0;n<window.gm.player.Outfit.count();n++){var o=window.gm.player.Outfit.getItemId(n);""!=o&&e.indexOf(o)<0&&(e.push(o),t+=o+",")}return t},window.gm.printTodoList=function(){var t='<form><ul style="list-style-type: none" >',e=window.story.state,n=["qDogSit"];t+='<li><label><input type="checkbox" name="y" value="x" readonly disabled>always: keep the fridge filled</label></li>';for(var o=0;o<n.length;o++){var a=e.vars[n[o]],i="";"qDogSit"===n[o]&&(a<=0||(a<=256?i="There was this dogsit-ad in the park. Maybe you should call there to earn some money.":a<=512?i="You called dogsit but didnt get a response...":a<=768&&(i="Get a task from dogsit!"))),""!=i&&(t+='<li><label><input type="checkbox" name="y" value="x" readonly disabled>'+i+"</label></li>")}return t+="</ul></form></br>"},window.gm.printUnlockPerk=function(t,e){var n="",o=window.story.state;return 0==o.player[t]&&0<o.player.skillPoints?(n+="".concat("<a0 id='"+t+"' onclick='(function ( $event ) { unlockPerk($event.id); })(this);'>"+e+"</a>"),n+="".concat("    [[Info|"+t+"]]")):0<o.player[t]&&(n+=t+": "+e),n+="".concat("</br>")},window.gm.toggleDialog=function(t){var e,n=t,o=document.querySelector(t),t=document.getElementById("close-dialog");document.querySelector("body");o.hasAttribute("open")?(o.removeAttribute("open"),(e=document.querySelector("#backdrop")).parentNode.removeChild(e)):((e=document.createElement("div")).id="backdrop",document.body.appendChild(e),o.setAttribute("open","open"),t.focus(),t.addEventListener("click",function(){window.gm.toggleDialog(n)}))};var Character=function(){function e(t){_classCallCheck(this,e),this._data=t||e.defaultData(),this.Outfit=new Outfit(this,this._data.outfit),this.Inv=new Inventory(this,this._data.inv),this.Wardrobe=new Inventory(this,this._data.wardrobe),this.Stats=new Stats(this,this._data.stats),this.Effects=new Effects(this,this._data.effects),this.Rel=new Stats(this,this._data.rel);t=this.Stats.findItemSlot("health");t<0&&this.Stats.list.push({id:"health",min:0,max:60,value:50}),(t=this.Stats.findItemSlot("energy"))<0&&this.Stats.list.push({id:"energy",min:0,max:100,value:80})}return _createClass(e,null,[{key:"defaultData",value:function(){return{name:"",location:"Home",inv:[],wardrobe:[],outfit:[],stats:[],effects:[],rel:[],money:0}}}]),_createClass(e,[{key:"health",value:function(){return this.Stats.get("health")}},{key:"energy",value:function(){return this.Stats.get("energy")}},{key:"gainStat",value:function(t,e){var n=this.Stats.get(t),o=n.value,e=Math.max(n.min,Math.min(n.max,o+e));0<=(n.value=e)-o?window.gm.pushLog("<statup>"+t+" regenerated by "+(e-o).toString()+"</statup></br>"):window.gm.pushLog("<statdown>"+t+" decreased by "+(e-o).toString()+"</statdown></br>")}},{key:"gainRelation",value:function(t,e){this.Rel.addItem(t);var n=this.Rel.get(t),o=n.value,e=Math.max(n.min,Math.min(n.max,o+e)),o=(n.value=e)-o;0<o?window.gm.pushLog("<statup>Your relation to "+t+" improved by "+o.toString()+"</statup></br>"):o<0?window.gm.pushLog("<statdown>Your relation to "+t+" worsend by "+o.toString()+"</statdown></br>"):window.gm.pushLog("Your relation to "+t+" wasnt affected at all by your behaviour.</br>")}}]),e}();exports.Character=Character;var Item=function(){function e(t){_classCallCheck(this,e),this.name=t,this.desc=""}return _createClass(e,[{key:"usable",value:function(){return!1}}]),e}();exports.Item=Item;var Inventory=function(){function n(t,e){_classCallCheck(this,n),this.parent=t,this.list=e||[]}return _createClass(n,[{key:"postItemChange",value:function(t,e,n,o){window.gm.pushLog("Inventory: "+n+" "+e+" "+o+"</br>")}},{key:"count",value:function(){return this.list.length}},{key:"countItem",value:function(t){t=this.findItemSlot(t);return t<0?0:this.list[t].count}},{key:"findItemSlot",value:function(t){for(var e=0;e<this.count();e++)if(this.list[e].id===t)return e;return-1}},{key:"getItemId",value:function(t){return this.list[t].id}},{key:"getItem",value:function(t){if(!window.gm.ItemsLib[t])throw new Error("unknown item: "+t);return window.gm.ItemsLib[t]}},{key:"addItem",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this.findItemSlot(t);n<0?this.list.push({id:t,count:e}):this.list[n].count+=e,this.postItemChange(this,t,"added","")}},{key:"removeItem",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this.findItemSlot(t);n<0||(this.list[n].count-=e,this.list[n].count<1&&this.list.splice(n,1),this.postItemChange(this,t,"removed",""))}},{key:"usable",value:function(t){return this.getItem(t).usable(this)}},{key:"use",value:function(t){var e=this.getItem(t).use(this);return e.OK&&this.postItemChange(this,t,"used",e.msg),e}}]),n}();function defaultCanUse(t){return{OK:!0,msg:"usable"}}function defaultNoUse(t){return{OK:!1,msg:""}}function defaultOnUse(t){return{OK:!0,msg:"You used the item."}}function defaultCanUnequip(t){return{OK:!0,msg:""}}function defaultNoUnequip(t){return{OK:!1,msg:"You need to find a key first to be able to remove it!"}}function canConsumeCoffee(t){return{OK:!0,msg:"drinkable"}}function onUseCoffee(t){return t instanceof Inventory&&t.removeItem("CanOfCoffee"),{OK:!0,msg:"you gulped down a can of iced coffee"}}exports.Inventory=Inventory,window.gm.ItemsLib={LighterDad:{name:"Lighter from Dad",desc:"I got this lighter from my real dad.",usable:defaultCanUse,use:defaultOnUse},LaptopPS:{name:"Laptop-PS",desc:"Power converter for laptop.",usable:function(){return{OK:!1,msg:"not usable on its own"}},use:defaultNoUse},CanOfCoffee:{name:"Can of coffee",desc:"Cold coffee in a can. Tasty? Not really!",usable:canConsumeCoffee,use:onUseCoffee},SimpleFood:{name:"food ration",desc:"You can eat this.",usable:defaultCanUse,use:defaultOnUse},Leggings:{name:"Sport-Leggings",desc:"Spandex-leggings for sport.",tags:["cloth"],slotUse:["Legs"],canEquip:defaultCanUse,canUnequip:defaultCanUnequip},"Tank-shirt":{name:"White Tank-shirt",desc:"White Tank-shirt.",tags:["cloth"],slotUse:["Torso","Arms"],canEquip:defaultCanUse,canUnequip:defaultCanUnequip},Jeans:{name:"Bluejeans",desc:"Thight fitting blue jeans.",tags:["cloth"],slotUse:["Legs"],canEquip:defaultCanUse,canUnequip:defaultCanUnequip},Pullover:{name:"Pullover",desc:"A warm pulloer.",tags:["cloth"],slotUse:["Torso","Arms"],canEquip:defaultCanUse,canUnequip:defaultCanUnequip},Crowbar:{name:"Crowbar",desc:"A durable crowbar.",tags:["tool","weapon"],slotUse:["RHand"],usable:defaultCanUse,use:defaultOnUse,canEquip:defaultCanUse,canUnequip:defaultCanUnequip},Shovel:{name:"Shovel",desc:"A shovel for the dirty work.",tags:["tool","weapon"],slotUse:["RHand","LHand"],usable:defaultCanUse,use:defaultOnUse,canEquip:defaultCanUse,canUnequip:defaultCanUnequip},Handcuffs:{name:"Handcuffs",desc:"You cannot use your hand.",tags:["restrain"],slotUse:["RHand","LHand"],usable:defaultCanUse,use:defaultOnUse,canEquip:defaultCanUse,canUnequip:defaultNoUnequip}};var Equipment=function(){function e(t){_classCallCheck(this,e),this.name=t,this.desc=""}return _createClass(e,[{key:"usable",value:function(){return!1}}]),e}();exports.Equipment=Equipment;var Outfit=function(){function o(t,e){_classCallCheck(this,o),this.parent=t,this.list=e||[];for(var n=0;n<window.gm.OutfitSlotpLib.SLOTMAX;n++)this.list.length-1<n&&this.list.push({id:""})}return _createClass(o,[{key:"postItemChange",value:function(t,e,n,o){window.gm.pushLog("Outfit: "+n+" "+e+" "+o+"</br>")}},{key:"count",value:function(){return this.list.length}},{key:"countItem",value:function(t){return this.findItemSlot(t).length}},{key:"findItemSlot",value:function(t){for(var e=[],n=0;n<this.count();n++)this.list[n].id===t&&e.push(n);return e}},{key:"getItemId",value:function(t){return this.list[t].id}},{key:"getItem",value:function(t){var e=window.gm.ItemsLib[t];if(!e)throw new Error("unknown item: "+t);return e}},{key:"canEquip",value:function(t){return{OK:!0}}},{key:"canUnequipSlot",value:function(t){return{OK:!0}}},{key:"canUnequipItem",value:function(t,e){for(var n=this.findItemSlot(t),o=this.getItem(t).canUnequip(t),a=0;a<n.length;a++){var i=this.canUnequipSlot(n[a]);i.OK||(o.msg+=i.msg+" "),o.OK=o.OK&&i.OK}return o}},{key:"addItem",value:function(t,e){if(!(0<(n=this.findItemSlot(t)).length)){for(var n=this.getItem(t).slotUse.map(function(t,e,n){return window.gm.OutfitSlotpLib[t]}),o={OK:!0,msg:""},a=0;a<n.length;a++){var i=this.getItemId(n[a]);""!==i&&((i=this.canUnequipItem(i)).OK||(o.msg+=i.msg),o.OK=o.OK&&i.OK)}if(o.OK){for(var r=0;r<n.length;r++)this.__clearSlot(n[r]);for(var s=0;s<n.length;s++)this.list[n[s]].id=t;this.postItemChange(this,t,"equipped","")}else this.postItemChange(this,t,"equip_fail:",o.msg)}}},{key:"__clearSlot",value:function(t,e){this.list[t].id=""}},{key:"removeItem",value:function(t,e){var n=this.findItemSlot(t);if(0!==n.length){var o=this.canUnequipItem(t);if(o.OK){for(var a=0;a<n.length;a++)this.__clearSlot(n[a]);this.postItemChange(this,t,"removed","")}else this.postItemChange(this,t,"unequip_fail",o.msg)}}},{key:"isNaked",value:function(){return""===this.getItemId(window.gm.OutfitSlotpLib.Legs)||""===this.getItemId(window.gm.OutfitSlotpLib.Torso)}}]),o}();exports.Outfit=Outfit,window.gm.OutfitSlotpLib={Legs:1,Feet:2,Arms:3,Torso:4,LHand:5,RHand:6,UWTop:7,UWGroin:8,UWFeet:9,UWLegs:10,Hat:11,Neck:12,Eys:13,SLOTMAX:50};var Effects=function(){_inherits(o,Inventory);var n=_createSuper(o);function o(t,e){return _classCallCheck(this,o),n.call(this,t,e)}return _createClass(o,[{key:"getItem",value:function(t){if(!window.gm.EffectLib[t])throw new Error("unknown state: "+t);return window.gm.EffectLib[t]}},{key:"postItemChange",value:function(t,e,n,o){window.gm.pushLog("States: "+n+" "+e+" "+o+"</br>")}}]),o}();function defaultTimeChange(t){}function defaultOnApply(t){}function defaultOnRemove(t){}exports.Effects=Effects,window.gm.EffectLib={Tired:{name:"Tired",desc:"You feel tired",onTimeChange:defaultTimeChange,onApply:defaultOnApply,onRemove:defaultOnRemove},Energized:{name:"Energized",desc:"You feel energized",onTimeChange:defaultTimeChange,onApply:defaultOnApply,onRemove:defaultOnRemove}};var Stats=function(){_inherits(o,Inventory);var n=_createSuper(o);function o(t,e){return _classCallCheck(this,o),n.call(this,t,e)}return _createClass(o,[{key:"get",value:function(t){var e=this.findItemSlot(t);if(e<0)throw new Error("unknown stat: "+t);return this.list[e]}},{key:"getItem",value:function(t){if(!window.gm.StatsLib[t])throw new Error("unknown stat: "+t);return window.gm.StatsLib[t]}},{key:"postItemChange",value:function(t,e,n,o){window.gm.pushLog("Stats: "+n+" "+e+" "+o+"</br>")}},{key:"addItem",value:function(t){this.findItemSlot(t)<0&&this.list.push({id:t,min:0,max:0,value:0})}},{key:"removeItem",value:function(t){t=this.findItemSlot(t);t<0||this.list.splice(t,1)}}]),o}();function defaultOnChange(t){}exports.Stats=Stats,window.gm.StatsLib={health:{name:"Health",desc:"How healthy you are.",onChange:defaultOnChange,onApply:defaultOnApply,onRemove:defaultOnRemove},energy:{name:"Energy",desc:"How much energy you have.",onChange:defaultOnChange,onApply:defaultOnApply,onRemove:defaultOnRemove}};